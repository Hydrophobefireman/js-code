{"version":3,"file":"j-utils.umd.js","sources":["../src/modules/util.js","../src/modules/warnings.js","../src/modules/base64ToArrayBuffer/index.js","../src/modules/Object/keys.js","../src/modules/objToCSSString/index.js","../src/modules/Object/assign.js","../src/modules/CSSStringToObj/index.js","../src/modules/nextEvent/index.js","../src/modules/arrayBufferToBase64/index.js","../src/modules/retry/index.js","../src/modules/urlencode/index.js","../src/modules/Element/append.js","../src/modules/loadCSS/index.js","../src/modules/_import/index.js","../src/modules/es6/loose/constants.js","../src/modules/es6/loose/Map/_Symbol.js","../src/modules/es6/loose/Map/proto.js","../src/shared.js","../src/modules/es6/loose/Map/index.js","../src/modules/es6/loose/Set/_Symbol.js","../src/modules/es6/loose/Set/proto.js","../src/modules/es6/loose/Set/index.js","../src/modules/es6/loose/Weak-shared.js","../src/modules/es6/loose/WeakMap/index.js","../src/modules/es6/loose/WeakSet/index.js","../src/modules/Object/entries.js","../src/modules/Object/values.js","../src/modules/Object/fromEntries.js","../src/modules/Object/is.js","../src/modules/Element/after.js","../src/modules/Element/prepend.js","../index.js"],"sourcesContent":["/**\n * @returns {globalThis}\n */\nexport function patchGlobalThis() {\n  if (typeof globalThis === \"object\") return globalThis;\n  Object.defineProperty(Object.prototype, \"___this\", {\n    get: function() {\n      return this;\n    },\n    configurable: true\n  });\n  ___this.globalThis = ___this;\n  const r = ___this;\n  delete Object.prototype.___this;\n  return r;\n}\npatchGlobalThis();\nconst _Sym = globalThis.Symbol || {};\n\n/**\n *\n * @param {string|number|symbol} a\n * @param {object} b\n * @returns {boolean}\n */\nexport const has = (a, b) => a in b;\n\nexport const emptyObj = {};\nexport const emptyArr = [];\n\n/**\n *\n * @param {any} k\n */\nexport const isIterable = k => k && !!k[_Sym.iterator];\nexport const _Object = emptyObj.constructor;\nexport const hasOwnProp = emptyObj.hasOwnProperty;\n\nexport function _generateDocFrag(args) {\n  const frag = document.createDocumentFragment();\n  args.forEach(arg =>\n    frag.appendChild(\n      arg instanceof Node ? arg : document.createTextNode(String(arg))\n    )\n  );\n  return frag;\n}\nexport function checkAndPatch(o, prop, opt) {\n  if (prop in o) {\n    const val = o[prop];\n    const patch = opt.patch,\n      name = opt.name;\n    if (opt.bind) {\n      patch[name] = val.bind(opt.bind);\n    } else {\n      patch[name] = val;\n    }\n\n    return true;\n  }\n  return false;\n}\nexport const domContext =\n  typeof window !== \"undefined\" &&\n  ((window.navigator && !!window.navigator.userAgent) ||\n    (window.document && !!document.createElement));\nexport const workerContext =\n  typeof self !== \"undefined\" &&\n  !!self.postMessage &&\n  typeof importScripts === \"function\";\nexport const isBrowser = domContext || workerContext;\n\nexport const defer =\n  typeof Promise == \"function\"\n    ? Promise.prototype.then.bind(Promise.resolve())\n    : setTimeout;\n","import { isBrowser } from \"./util.js\";\nexport const browserOnlyWarning = {\n  warn(msg) {\n    if (!isBrowser)\n      console.warn(\n        msg ||\n          \"Some functionalities only eork in browsing context. Expect errors.\"\n      );\n  },\n  _throw(msg) {\n    if (!isBrowser)\n      throw new Error(\n        msg || \"A web browser is required for this module to run!\"\n      );\n  }\n};\n","import { browserOnlyWarning } from \"../warnings.js\";\nexport default async function base64ToArrayBuffer(b64) {\n\tbrowserOnlyWarning._throw();\n  const data = await fetch(`data:,${b64}`);\n  return await data.arrayBuffer();\n}\n","import { hasOwnProp, _Object } from \"../util.js\";\nexport default \"keys\" in _Object\n  ? _Object.keys\n  : function Object_keys(a) {\n      const arr = [];\n      for (const i in a) hasOwnProp.call(a, i) && arr.push(i);\n      return arr;\n    };\n","import keys from \"../Object/keys.js\";\nexport default function objToCSSString(a) {\n  if (\"string\" == typeof a) return a;\n  const b = [];\n  for (const c of keys(a)) b.push(`${c}:${a[c]}`);\n  return b.join(\";\");\n}\n","import { _Object,hasOwnProp } from \"../util.js\";\nexport default \"assign\" in _Object\n  ? _Object.assign\n  : function Object_assign(target) {\n      for (let i = 1; i < arguments.length; i++) {\n        const source = arguments[i];\n        for (const key in source) {\n          if (hasOwnProp.call(source, key)) {\n            target[key] = source[key];\n          }\n        }\n      }\n      return target;\n    };\n","import assign from \"../Object/assign.js\";\nexport default function CSSStringToObj(css) {\n  if (\"object\" == typeof css) return css;\n  const rules = css.split(\";\");\n  return rules.reduce((acc, d) => {\n    const ruleAndValue = d.split(\":\"),\n      fObj = {};\n    return 1 < ruleAndValue.length\n      ? ((fObj[ruleAndValue[0].trim()] = ruleAndValue[1].trim()),\n        assign(acc, filaObj))\n      : acc;\n  }, {});\n}\n","export default function nextEvent(obj, event) {\n  return new Promise(res => obj.addEventListener(event, res, { once: true }));\n}\n","import { browserOnlyWarning } from \"../warnings.js\";\nexport default function arrayBufferToBase64(buffer) {\n\tbrowserOnlyWarning._throw();\n  return new Promise((resolve, _) => {\n    const blob = new Blob([buffer], {\n      type: \"application/octet-binary\"\n    });\n    const reader = new FileReader();\n    reader.onload = evt => {\n      const dataurl = evt.target.result;\n      resolve(dataurl.substr(dataurl.indexOf(\",\") + 1));\n    };\n    reader.readAsDataURL(blob);\n  });\n}\n","export default function retry(fn, max,bind) {\n\tmax=max||3\n  return async function() {\n    let tries = 0;\n    while (tries < max) {\n      try {\n        return await fn.apply(bind,arguments);\n      } catch (e) {\n        tries++;\n      }\n    }\n    throw new Error(\"function \" + (fn.name || \"\") + \" failed \" + max + \" times\");\n  };\n}\n","import { patchGlobalThis } from \"../util.js\";\nimport keys from \"../Object/keys.js\";\npatchGlobalThis();\nexport default function urlencode(a) {\n  if (globalThis.URLSearchParams) {\n    return new URLSearchParams(a).toString();\n  } else {\n    return `${obj\n      .keys(a)\n      .map(b => `${encodeURIComponent(b)}=${encodeURIComponent(a[b])}`)\n      .join(\"&\")}`;\n  }\n}\n","import { browserOnlyWarning } from \"../warnings.js\";\nimport { _generateDocFrag } from \"../util.js\";\nexport default function Element_append(element) {\nbrowserOnlyWarning._throw();\n  const args = emptyArr.slice.call(arguments, 1);\n  if (\"append\" in element) {\n    element.append.apply(element, args);\n  }\n  const frag = _generateDocFrag(args);\n  element.appendChild(frag);\n}\n","import { browserOnlyWarning } from \"../warnings.js\";\nimport assign from \"../Object/assign.js\";\nimport append from \"../Element/append.js\";\nexport default function loadCSS(url) {\n  browserOnlyWarning._throw();\n  const link = assign(document.createElement(\"link\"), {\n    rel: \"stylesheet\",\n    href: url\n  });\n  return new Promise((res, rej) => {\n    link.addEventListener(\"load\", () => res());\n    link.addEventListener(\"error\", () => rej());\n    append(document.head, link);\n  });\n}\n","import { browserOnlyWarning } from \"../warnings.js\";\nimport { domContext, workerContext, patchGlobalThis } from \"../util.js\";\nimport assign from \"../Object/assign.js\";\nconst key = \"@@__ScriptsLOADED\";\nconst global = patchGlobalThis();\nconst moduleMap = {};\nglobal[key] = moduleMap;\nexport default function _import(src, type) {\n  browserOnlyWarning._throw(\"Cannot Import scripts without a browser context\");\n  if (domContext) {\n    /**\n     * @type {HTMLScriptElement}\n     */\n    const script = assign(document.createElement(\"script\"), {\n      type: type || \"text/javascript\",\n      charset: \"utf-8\"\n    });\n    if (type === \"module\") {\n      return loadModuleScript(script, src);\n    }\n    return loadTraditionalScript(script, src);\n  } else if (workerContext) {\n    return importScripts(src);\n  }\n}\nfunction loadModuleScript(script, src) {\n  const evt = `loaded__${src}`;\n  assign(script, {\n    text: `import * as Obj from \"${src}\";\n    window[\"${key}\"][\"${src}\"]=Obj;\n    dispatchEvent(new Event(\"${evt}\"))`\n  });\n  return new Promise((resolve, reject) => {\n    const res = () => {\n      resolve(global[key][src]);\n    };\n    window.addEventListener(evt, res, { once: true });\n    document.head.appendChild(script);\n  });\n}\nfunction loadTraditionalScript(script, src) {\n  return new Promise((resolve, reject) => {\n    assign(script, { src });\n    const res = () => {\n      clearListeners();\n      resolve(script);\n    };\n    const rej = () => {\n      clearListeners();\n      reject(script);\n    };\n    function clearListeners() {\n      script.removeEventListener(\"load\", res);\n      script.removeEventListener(\"error\", rej);\n    }\n    script.addEventListener(\"load\", res);\n    script.addEventListener(\"error\", rej);\n    document.head.appendChild(script);\n  });\n}\n","import { patchGlobalThis as patch, has } from \"../../util.js\";\nlet _global = patch();\nexport const HAS_MAP = has(\"Map\", _global);\nexport const HAS_SET = has(\"Set\", _global);\nexport const HAS_WEAK = has(\"WeakMap\", _global) && has(\"WeakSet\", _global);\nexport const m = \"__@@map\";\nexport const s = \"__@@set\";\nconst _isNaN = k => k !== k;\nexport const _EqCheck = (x, y) => x === y || (_isNaN(x) && _isNaN(y));\nexport const normalizeNegativeZero = k => (k === 0 ? 0 : k);\n","import {m } from \"../constants.js\";\nlet entries, values, keys;\nif (typeof Symbol !== \"undefined\") {\n  function mapEntriesIterator(map) {\n    const _ = map[m];\n    const c = _[Symbol.iterator];\n    return c.call(_);\n  }\n  entries = function entries() {\n    return mapEntriesIterator(this);\n  };\n  function mapKeyValIterator(map, isKey) {\n    const _ = map[m];\n    let i = 0;\n    const len = _.length;\n\tconst kv=isKey?0:1\n    return {\n      [Symbol.toStringTag]: \"Map Iterator\",\n      [Symbol.iterator]: function() {\n        return this\n      },\nnext: function() {\n            if (i < len) {\n              return { value: _[i++][kv], done: false };\n            }\n            return { value: void 0, done: true };\n          }\n    };\n  }\n  values = function values() {\n    return mapKeyValIterator(this, false);\n  };\n  keys = function keys() {\n    return mapKeyValIterator(this, true);\n  };\n} else {\n  entries = keys = values = function() {\n    console.warn(\"no symbol support\");\n  };\n}\nexport default { keys, values, entries };\n","import { m, _EqCheck as is, normalizeNegativeZero } from \"../constants.js\";\nimport symbolProps from \"./_Symbol.js\";\nimport assign from \"../../../Object/assign.js\";\nfunction __i_getMapArr(k) {\n  for (const i of this[m]) {\n    if (is(i[0], k)) return i;\n  }\n  return null;\n}\nexport default function setPrototypeProps(FakeMap) {\n  FakeMap.prototype.set = function set(k, v) {\n    const prevArr = __i_getMapArr.call(this, k);\n    if (prevArr) {\n      prevArr[1] = v;\n    } else {\n      this[m].push([normalizeNegativeZero(k), v]);\n    }\n    return this;\n  };\n  FakeMap.prototype.has = function has(key) {\n    return !!__i_getMapArr.call(this, key);\n  };\n  FakeMap.prototype.delete = function del(k) {\n    this[m] = this[m].filter(x => !is(x[0], k));\n  };\n  FakeMap.prototype.get = function get(key) {\n    const arr = __i_getMapArr.call(this, key);\n    return arr ? arr[1] : undefined;\n  };\n  FakeMap.prototype.forEach = function forEach(cb, that) {\n    for (const arr of this[m]) {\n      const a = arr[1],\n        b = arr[0],\n        c = this;\n      that ? cb.call(that, a, b, c) : cb(a, b, c);\n    }\n  };\n\n  FakeMap.prototype.clear = function clear() {\n    return void (this[m].length = 0);\n  };\n  Object.defineProperty(FakeMap.prototype, \"size\", {\n    enumerable: false,\n    configurable: true,\n    get: function() {\n      return this[m].length;\n    }\n  });\n  if (typeof Symbol !== \"undefined\") {\n    FakeMap.prototype[Symbol.iterator] = symbolProps.entries;\n    FakeMap.prototype[Symbol.toStringTag] = \"Map\";\n  }\n  assign(FakeMap.prototype, symbolProps);\n}\n","function _instanceof(left, right) {\n  if (\n    right != null &&\n    typeof Symbol !== \"undefined\" &&\n    right[Symbol.hasInstance]\n  ) {\n    return !!right[Symbol.hasInstance](left);\n  } else {\n    return left instanceof right;\n  }\n}\n\nexport function _classCallCheck(instance, Constructor) {\n  if (!_instanceof(instance, Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n","import { HAS_MAP, m } from \"../constants.js\";\nimport setup from \"./proto.js\";\nimport { isIterable } from \"../../../util.js\";\nimport { _classCallCheck } from \"../../../../shared.js\";\nfunction generateMap(it) {\n  if (it == null) return;\n  if (!isIterable(it))\n    throw new Error(\"value:\" + String(it) + \" is not iterable\");\n  for (k of it) {\n    if (!k || k.length !== 2) throw new Error(\"invalid arg\");\n    this.set(k[0], k[1]);\n  }\n}\nexport default function FakeMap(iterable, forceUseCustomImplementation) {\n  if (!forceUseCustomImplementation && HAS_MAP) return new Map(iterable);\n  _classCallCheck(this, FakeMap);\n  this[m] = [];\n  generateMap.call(this, iterable);\n}\nsetup(FakeMap);\n","import { s } from \"../constants.js\";\nlet entries, values, keys;\nif (typeof Symbol !== \"undefined\") {\n  function setEntriesIterator(set) {\n    const _ = set[s];\n    const c = _[Symbol.iterator];\n    return c.call(_);\n  }\n  entries = function entries() {\n    return setKeyValIterator(this, true);\n  };\n  function setKeyValIterator(set, isDup) {\n    const _ = set[s];\n    let i = 0;\n    const len = _.length;\n    return {\n      [Symbol.toStringTag]: \"Set Iterator\",\n      [Symbol.iterator]: function() {\n        return this;\n      },\n      next: function() {\n        if (i < len) {\n          const v = _[i++];\n          return { value: isDup ? [v, v] : v, done: false };\n        }\n        return { value: void 0, done: true };\n      }\n    };\n  }\n  values = function values() {\n    return setKeyValIterator(this, false);\n  };\n  keys = function keys() {\n    return setKeyValIterator(this, false);\n  };\n} else {\n  entries = keys = values = function() {\n    console.warn(\"no symbol support\");\n  };\n}\nexport default { keys, values, entries };\n","import { s, _EqCheck as is, normalizeNegativeZero } from \"../constants.js\";\nimport symbolProps from \"./_Symbol.js\";\nimport assign from \"../../../Object/assign.js\";\n\nexport default function setPrototypeProps(FakeSet) {\n  FakeSet.prototype.add = function set(k) {\n    if (!this.has(k)) this[s].push(normalizeNegativeZero(k));\n    return this;\n  };\n  FakeSet.prototype.has = function has(key) {\n    for (const i of this[s]) {\n      if (is(i, key)) return true;\n    }\n    return false;\n  };\n  FakeSet.prototype.delete = function del(k) {\n    this[s] = this[s].filter(x => !is(x, k));\n  };\n  FakeSet.prototype.forEach = function forEach(cb, that) {\n    for (const arr of this[s]) {\n      const a = arr,\n        c = this;\n      that ? cb.call(that, a, a, c) : cb(a, a, c);\n    }\n  };\n\n  FakeSet.prototype.clear = function clear() {\n    return void (this[s].length = 0);\n  };\n  Object.defineProperty(FakeSet.prototype, \"size\", {\n    enumerable: false,\n    configurable: true,\n    get: function() {\n      return this[s].length;\n    }\n  });\n  if (typeof Symbol !== \"undefined\") {\n    FakeSet.prototype[Symbol.iterator] = symbolProps.values;\n    FakeSet.prototype[Symbol.toStringTag] = \"Set\";\n  }\n  assign(FakeSet.prototype, symbolProps);\n}\n","import { HAS_SET, s } from \"../constants.js\";\nimport setup from \"./proto.js\";\nimport { isIterable } from \"../../../util.js\";\nimport { _classCallCheck } from \"../../../../shared.js\";\nfunction generateSet(it) {\n  if (it == null) return;\n  if (!isIterable(it))\n    throw new Error(\"value:\" + String(it) + \" is not iterable\");\n  for (k of it) {\n    this.add(k);\n  }\n}\nexport default function FakeSet(iterable, forceUseCustomImplementation) {\n  if (!forceUseCustomImplementation && HAS_SET) return new Set(iterable);\n  _classCallCheck(this, FakeSet);\n  this[s] = [];\n  generateSet.call(this, iterable);\n}\nsetup(FakeSet);\n","import { has, patchGlobalThis } from \"../../util.js\";\nconst e = {};\nconst gl = patchGlobalThis();\nexport function _getCryptoOrMathRandom() {\n  const hasCrypto = has(\"crypto\", gl);\n  let rv;\n  if (hasCrypto) {\n    rv = gl.crypto.getRandomValues;\n    if (rv) {\n      rv = rv.bind(crypto);\n      return rv(new Uint8Array(10)).join(\"-\");\n    }\n  }\n  return Math.random();\n}\n\nexport function initializeInternalKeyProp(obj, key) {\n  if (key in obj) return;\n  Object.defineProperty(obj, key, { value: {}, enumerable: false });\n}\n\nexport function _patchObjectSealingMethods(key) {\n  /**\n   *\n   * @param {\"seal\"|\"freeze\"|\"preventExtensions\"} m\n   */\n  function _patch(m) {\n    const method = Object[m];\n    if (method.__patched === e) return;\n    let fn;\n    fn = Object[m] = function FakeMethod(obj) {\n      initializeInternalKeyProp(obj, key);\n      return method(obj);\n    };\n    fn.__patched = e;\n  }\n  [\"freeze\", \"seal\", \"preventExtensions\"].forEach(_patch);\n}\n\nexport function isObjectOrThrow(i) {\n  if (Object(i) !== i) {\n    throw new Error(\"Invalid value\");\n  }\n}\n","import { HAS_WEAK } from \"../constants.js\";\nimport { isIterable } from \"../../../util.js\";\nimport {\n  _getCryptoOrMathRandom,\n  initializeInternalKeyProp,\n  _patchObjectSealingMethods,\n  isObjectOrThrow\n} from \"../Weak-shared.js\";\nimport { _classCallCheck } from \"../../../../shared.js\";\n\nconst __WEAK__KEY =\n  \"@@WeakMap__\" +\n  +new Date() +\n  Math.random().toString(16) +\n  \"-\" +\n  _getCryptoOrMathRandom();\nexport const patchObjectSealingMethods = _patchObjectSealingMethods.bind(\n  void 0,\n  __WEAK__KEY\n);\nfunction generateMap(it) {\n  if (it == null) return;\n  if (!isIterable(it))\n    throw new Error(\"value:\" + String(it) + \" is not iterable\");\n  for (k of it) {\n    if (!k || k.length !== 2) throw new Error(\"invalid arg\");\n    this.set(k[0], k[1]);\n  }\n}\n\nlet weakMapIds = 0;\n/**\n * this implementation holds the value in the key itself instead of holding the key as\n * a reference.\n * however, we need to patch Object.{freeze,seal,preventExtensions}\n * or WeakMaps on previously frozen objects would not work\n *\n *\n *\n * @param {Iterable} iterable\n * @param {boolean} forceUseCustomImplementation\n * @returns {WeakMap}\n */\nexport default function FakeWeakMap(iterable, forceUseCustomImplementation) {\n  if (!forceUseCustomImplementation && HAS_WEAK) return new WeakMap(iterable);\n  _classCallCheck(this, FakeWeakMap);\n  patchObjectSealingMethods();\n  this._id = ++weakMapIds;\n  generateMap.call(this, iterable);\n}\nfunction _getKeyValArr(key, id) {\n  const c = key[__WEAK__KEY];\n  return c ? c[id] : void 0;\n}\nfunction initSafeSetup(key) {\n  isObjectOrThrow(key);\n  initializeInternalKeyProp(key, __WEAK__KEY);\n}\nFakeWeakMap.prototype = {\n  get(key) {\n    initSafeSetup(key);\n    const val = _getKeyValArr(key, this._id);\n    if (val && val[0] === this._id) {\n      return val[1];\n    }\n  },\n  has(key) {\n    initSafeSetup(key);\n    return !!_getKeyValArr(key, this._id);\n  },\n  set(key, val) {\n    initSafeSetup(key);\n    const prevArr = _getKeyValArr(key, this._id);\n    if (prevArr && prevArr[0] === this._id) {\n      prevArr[1] = val;\n    } else {\n      key[__WEAK__KEY][this._id] = [this._id, val];\n    }\n    return this;\n  },\n  delete(key) {\n    initSafeSetup(key);\n    const prevArr = _getKeyValArr(key, this._id);\n    if (!prevArr) return false;\n    delete key[__WEAK__KEY][this._id];\n    return true;\n  }\n};\n","import _WeakMap from \"../WeakMap/index.js\";\nimport { HAS_WEAK } from \"../constants.js\";\nimport { _classCallCheck } from \"../../../../shared.js\";\n\nfunction generateSet(it) {\n  if (it == null) return;\n  if (!isIterable(it))\n    throw new Error(\"value:\" + String(it) + \" is not iterable\");\n  for (k of it) {\n    this.__map.set(k, k);\n  }\n}\n/**\n * weak set - either use native or use a weakmap (native or pollyfilled..doesnt matter)\n *\n * @returns {WeakSet}\n * @param {Iterable} iterable\n * @param {boolean} forceUseCustomImplementations\n */\nexport default function FakeWeakSet(iterable, forceUseCustomImplementations) {\n  if (!forceUseCustomImplementations && HAS_WEAK) return new WeakSet(iterable);\n  _classCallCheck(this, FakeWeakSet);\n  this.__map = new _WeakMap(null, forceUseCustomImplementations);\n  generateSet.call(this, iterable);\n}\nFakeWeakSet.prototype = {\n  add(k) {\n    if (this.__map.has(k)) return;\n    this.__map.set(k, k);\n    return this;\n  },\n  has(k) {\n    return this.__map.has(k);\n  },\n  delete(k) {\n    return this.__map.delete(k);\n  }\n};\n","import keys from \"./keys.js\";\nimport { _Object } from \"../util.js\";\nexport default \"entries\" in _Object\n  ? _Object.entries\n  : function Object_entries(a) {\n      const keys = keys(a);\n      let kLen = keys.length;\n      const ret = Array(kLen);\n      while (kLen--) {\n        const p = keys[kLen];\n        ret[kLen] = [p, a[p]];\n      }\n      return ret;\n    };\n","import keys from \"./keys.js\";\nimport { _Object } from \"../util.js\";\nexport default \"values\" in _Object\n  ? _Object.values\n  : function Object_values(a) {\n      const arr = [];\n      for (const i of keys(a)) arr.push(a[i]);\n      return arr;\n    };\n","import { _Object } from \"../util.js\";\n\nexport default \"fromEntries\" in _Object\n  ? _Object.fromEntries\n  : function Object_fromEntries(entries) {\n      const ret = {};\n      entries.forEach(k => (ret[k[0]] = k[1]));\n      return ret;\n    };\n","import {_Object} from \"../util.js\";\nexport default  \"is\" in _Object? _Object.is : function is(x, y) {\n  if (x === y) {\n    return x !== 0 || 1 / x === 1 / y;\n  } else {\n    return x !== x && y !== y;\n  }\n}\n","import { browserOnlyWarning } from \"../warnings.js\";\nimport { _generateDocFrag } from \"../util.js\";\nexport default function Element_after(element) {\n  browserOnlyWarning._throw();\n  const args = emptyArr.slice.call(arguments, 1);\n  if (\"after\" in element) {\n    return element.after.apply(element, args);\n  }\n  const frag = _generateDocFrag(args);\n  element.parentNode.insertBefore(frag, element.nextSibling);\n}\n","import { browserOnlyWarning } from \"../warnings.js\";\nimport { _generateDocFrag } from \"../util.js\";\nexport default function Element_prepend(element) {\n  browserOnlyWarning._throw();\n  const args = emptyArr.slice.call(arguments, 1);\n  if (\"prepend\" in element) {\n    return element.prepend.apply(element, args);\n  }\n  const frag = _generateDocFrag(args);\n  element.insertBefore(frag, element.firstChild);\n}\n","import base64ToArrayBuffer from \"./src/modules/base64ToArrayBuffer/index.js\";\nimport objToCSSString from \"./src/modules/objToCSSString/index.js\";\nimport CSSStringToObj from \"./src/modules/CSSStringToObj/index.js\";\nimport nextEvent from \"./src/modules/nextEvent/index.js\";\nimport arrayBufferToBase64 from \"./src/modules/arrayBufferToBase64/index.js\";\nimport retry from \"./src/modules/retry/index.js\";\nimport urlencode from \"./src/modules/urlencode/index.js\";\nimport loadCSS from \"./src/modules/loadCSS/index.js\";\nimport _import from \"./src/modules/_import/index.js\";\nimport * as es6 from \"./src/modules/es6/loose/index.js\";\nimport * as _Object from \"./src/modules/Object/index.js\";\nimport * as Element from \"./src/modules/Element/index.js\";\nimport * as util from \"./src/modules/util.js\";\nconst obj = {\n  arrayBufferToBase64,\n  base64ToArrayBuffer,\n  objToCSSString,\n  CSSStringToObj,\n  urlencode,\n  loadCSS,\n  retry,\n  nextEvent,\n  util,\n  _import\n};\n\n_Object.Object_assign(obj, _Object, Element, es6);\nexport default obj;\n"],"names":["patchGlobalThis","globalThis","Object","defineProperty","prototype","get","configurable","___this","r","_Sym","Symbol","has","a","b","emptyObj","emptyArr","isIterable","k","iterator","_Object","constructor","hasOwnProp","hasOwnProperty","_generateDocFrag","args","frag","document","createDocumentFragment","forEach","arg","appendChild","Node","createTextNode","String","checkAndPatch","o","prop","opt","val","patch","name","bind","domContext","window","navigator","userAgent","createElement","workerContext","self","postMessage","importScripts","isBrowser","defer","Promise","then","resolve","setTimeout","browserOnlyWarning","warn","msg","console","_throw","Error","base64ToArrayBuffer","b64","data","fetch","arrayBuffer","keys","Object_keys","arr","i","call","push","objToCSSString","c","join","assign","Object_assign","target","arguments","length","source","key","CSSStringToObj","css","rules","split","reduce","acc","d","ruleAndValue","fObj","trim","filaObj","nextEvent","obj","event","res","addEventListener","once","arrayBufferToBase64","buffer","_","blob","Blob","type","reader","FileReader","onload","evt","dataurl","result","substr","indexOf","readAsDataURL","retry","fn","max","tries","apply","e","urlencode","URLSearchParams","toString","map","encodeURIComponent","Element_append","element","slice","append","loadCSS","url","link","rel","href","rej","head","global","moduleMap","_import","src","script","charset","loadModuleScript","loadTraditionalScript","text","reject","clearListeners","removeEventListener","_global","HAS_MAP","HAS_SET","HAS_WEAK","m","s","_isNaN","_EqCheck","x","y","normalizeNegativeZero","entries","values","mapEntriesIterator","mapKeyValIterator","isKey","len","kv","toStringTag","next","value","done","__i_getMapArr","is","setPrototypeProps","FakeMap","set","v","prevArr","delete","del","filter","undefined","cb","that","clear","enumerable","symbolProps","_instanceof","left","right","hasInstance","_classCallCheck","instance","Constructor","TypeError","generateMap","it","iterable","forceUseCustomImplementation","Map","setup","setKeyValIterator","isDup","FakeSet","add","generateSet","Set","gl","_getCryptoOrMathRandom","hasCrypto","rv","crypto","getRandomValues","Uint8Array","Math","random","initializeInternalKeyProp","_patchObjectSealingMethods","_patch","method","__patched","FakeMethod","isObjectOrThrow","__WEAK__KEY","Date","patchObjectSealingMethods","weakMapIds","FakeWeakMap","WeakMap","_id","_getKeyValArr","id","initSafeSetup","__map","FakeWeakSet","forceUseCustomImplementations","WeakSet","_WeakMap","Object_entries","kLen","ret","Array","p","Object_values","fromEntries","Object_fromEntries","Element_after","after","parentNode","insertBefore","nextSibling","Element_prepend","prepend","firstChild","util","Element","es6"],"mappings":"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"}